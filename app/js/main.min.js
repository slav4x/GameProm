const viewportFix=e=>{document.querySelector('meta[name="viewport"]').setAttribute("content",`user-scalable=no, width=${screen.width<=e?e:"device-width"}`)};viewportFix(360),document.addEventListener("DOMContentLoaded",(function(){(()=>{const e=document.querySelectorAll(".masked"),t={mask:"+7 (000) 000-00-00",onFocus:()=>{""===this.value&&(this.value="+7 ")},onBlur:()=>{"+7 "===this.value&&(this.value="")}};e.forEach((e=>{new IMask(e,t)}))})(),Fancybox.bind("[data-fancybox]",{dragToClose:!1,autoFocus:!1,placeFocusBack:!1,Thumbs:!1});if([".company-slider-1",".company-slider-2"].forEach((e=>{if(document.querySelector(e)){new Splide(e,{type:"loop",rewind:!1,direction:"ttb",pagination:!1,arrows:!1,pauseOnHover:!1,autoHeight:!0,height:"100%",gap:24,center:!0,autoScroll:{speed:.5},breakpoints:{768:{destroy:!0}}}).mount(window.splide.Extensions)}})),document.querySelector(".projects-slider")){const c=document.querySelector(".projects-next"),r=document.querySelector(".projects-prev"),i=document.querySelector(".projects-bar");let s,a=!1;function e(){const e=s.Components.Controller.getEnd()+1,t=Math.min((s.index+1)/e,1);i.style.width=String(100*t)+"%"}function t(t){s&&(a&&(s.off("mounted move",e),a=!1),s.destroy(!0));const o=document.querySelector(".projects-slider");for(;o.firstChild;)o.removeChild(o.lastChild);const n=document.createElement("div");n.className="splide__track";const c=document.createElement("ul");c.className="splide__list",t.forEach((e=>{c.appendChild(e.cloneNode(!0))})),n.appendChild(c),o.appendChild(n),s=new Splide(".projects-slider",{type:"loop",perPage:2,perMove:1,pagination:!1,arrows:!1,gap:30,breakpoints:{1024:{gap:24},768:{perPage:1}}}),s.mount(),a||(s.on("mounted move",e),a=!0),e()}c.addEventListener("click",(e=>{s.go("+1")})),r.addEventListener("click",(e=>{s.go("-1")}));const l=Array.from(document.querySelectorAll(".projects-slider .splide__slide"));t(l),document.querySelectorAll(".projects-tabs li").forEach((e=>{e.addEventListener("click",(function(){const e=this.getAttribute("data-category");if(document.querySelector(".projects-tabs li.active").classList.remove("active"),this.classList.add("active"),i.style.width="0%","all"===e)t(l);else{t(l.filter((t=>t.getAttribute("data-category")===e)))}}))}))}if(document.querySelector(".media-slider")){const d=document.querySelector(".media-next"),u=document.querySelector(".media-prev"),p=document.querySelector(".media-bar"),m=new Splide(".media-slider",{type:"loop",perPage:3,perMove:1,pagination:!1,arrows:!1,gap:30,focus:"center",breakpoints:{1200:{perPage:2,focus:!1},1024:{gap:24},768:{perPage:1}}});d.addEventListener("click",(e=>{m.go("+1")})),u.addEventListener("click",(e=>{m.go("-1")})),m.on("mounted move",(function(){const e=m.Components.Controller.getEnd()+1,t=Math.min((m.index+1)/e,1);p.style.width=String(100*t)+"%"})),m.mount()}const o=document.querySelector(".header-burger"),n=document.querySelector(".header-nav");if(o.addEventListener("click",(function(){o.classList.toggle("open"),n.classList.toggle("open")})),document.querySelector(".tabs-switch")){const y=document.querySelector(".tabs-switch"),g=document.querySelector(".content"),v=document.querySelector(".btn-wrap");y.addEventListener("click",(function(e){const t=e.target.closest("li");if(!t)return;const o=t.dataset.category;y.querySelectorAll("li").forEach((e=>e.classList.remove("active"))),t.classList.add("active"),function(e){g.querySelectorAll("li").forEach((t=>{const o=t.dataset.category;t.classList.toggle("hidden","all"!==e&&o!==e)}))}(o),g.classList.add("full"),v.style.display="none"})),v.addEventListener("click",(function(){g.classList.add("full"),v.style.display="none"}))}if(document.querySelector(".media-page")){const f=document.querySelector(".media-grid"),h=document.querySelector(".btn-wrap");h.addEventListener("click",(function(){f.classList.add("full"),h.style.display="none"}))}}));